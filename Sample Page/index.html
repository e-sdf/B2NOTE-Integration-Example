<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>B2NOTE Integration Example</title>
    <link rel="stylesheet" href="style.css">
  </head>

  <body>
    <!--Service page content-->
    <div>
      <h1>B2NOTE Integration Example Page</h1>
      <p>
	This is an example for B2NOTE integrators how to integrate a B2NOTE widget to your service. The integration is done simply by including an IFRAME component. Please refer to the source code (HTML, CSS, JS files) for details.
      </p>
      <p>
	This example integrates with the development version of B2NOTE.
      </p>
      <p>
	For more information and documentation about B2NOTE, please refer to the <a href="https://b2note.bsc.es">B2NOTE home page</a>
      </p>
      <!--This is the form that is used to submit the needed information to B2NOTE Widget-->
      <!-- For production version use: -->
      <!-- action="https://b2note.eudat.eu/interface_main.html" -->
      <form
        action="https://b2note-dev.bsc.es/widget"
        method="post"
	onsubmit="showWidget()"
        target="b2note-iframe">
	<!--URL of the record landing page-->
        <input
          type="hidden"
          name="pid_tofeed"
          value="http://hdl.handle.net/11304/9b0ade56-0d31-445d-b518-00331461918e">
	<!--Landing page user-friendly name-->
        <input
          type="hidden"
          name="pidName_tofeed"
          value="Some name">
        <!--URL of the record contents for downloading-->
        <input 
          type="hidden"
          name="subject_tofeed"
          value="https://b2share.eudat.eu/api/files/07104f78-4c71-4f21-b858-119c6a6fe2f9/figure_spectra.txt">
        <!--Record contents user-friendly name (e.g. filename)-->
        <input 
          type="hidden"
          name="subjectName_tofeed"
          value="filename.ext">
	<button 
          type="submit"
          value="Annotate in B2Note"
          title="Click to annotate file using B2Note.">
          Annotate in B2NOTE
        </button>
      </form>

      <!--Widget container with sample styling-->
      <!--When the page loads, it should be hidden and shown on the form submission-->
      <div id="widget-container">
        <!--Close button, should be bound to hide the widget-->
        <button type="button" class="close" aria-label="Close" onclick="hideWidget()">
          <span aria-hidden="true">Ã—</span>
        </button>
        <!--The glorious iframe with the running app!-->
        <iframe id="b2note-iframe" name="b2note-iframe">
        </iframe>
      </div>
    </div>
  </body>
  <script src="main.js"></script>
</html>
